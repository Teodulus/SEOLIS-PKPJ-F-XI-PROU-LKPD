<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asesmen Konsep Router</title>

    <style>
        /* Pengaturan Variabel Warna dan Dasar (Dari CSS Anda) */
        :root {
            --primary: #043915;
            --secondary: #4c763b;
            --accent1: #b0ce88;
            --accent2: #fefc8e;
            --white: #FFFFFF;
            --black: #000000;
            --light-gray: #f0f2f5;
            /* Warna tambahan untuk tombol baru */
            --telegram-blue: #0088cc;
            --restart-gray: #6c757d;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--light-gray);
            color: var(--black);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            line-height: 1.6; /* Tambahan untuk keterbacaan */
        }

        /* Header (Dari CSS Anda) */
        header {
            background-color: var(--primary);
            color: var(--white);
            padding: 15px 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            max-width: 900px;
            margin: 0 auto;
        }

        .header-logo {
            height: 50px;
            width: auto;
            margin-right: 20px;
        }

        .header-text h1 {
            color: var(--white);
            font-size: 1.5em;
            margin: 0;
        }

        #progressInfo {
            font-size: 0.9em;
            font-style: italic;
            opacity: 0.9;
        }

        /* Konten Utama (Dari CSS Anda) */
        main {
            flex: 1;
            width: 100%;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Gaya "Card" (Dari CSS Anda) */
        .card {
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            padding: 30px;
            width: 90%;
            max-width: 600px; /* Ukuran maks ini sudah bagus untuk HP */
            border: 1px solid #e0e0e0;
        }
        
        /* Menyembunyikan card yang tidak aktif */
        #identity-screen, #quiz-container, #result-area {
            display: none;
        }

        h2 {
            color: var(--primary);
            margin-bottom: 20px; /* Sedikit lebih banyak ruang */
            text-align: center;
        }

        p {
            margin-bottom: 20px;
            line-height: 1.6;
        }

        /* Gaya untuk Input dan Tombol (Dari CSS Anda) */
        input[type="text"], textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 2px solid var(--accent1);
            border-radius: 8px;
            font-size: 1em;
        }

        textarea {
            resize: vertical;
            min-height: 150px;
        }
        
        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary);
        }

        /* --- PENYESUAIAN TOMBOL UNTUK HP --- */
        button, .action-btn {
            color: var(--white);
            background-color: var(--secondary);
            padding: 14px 25px; /* Sedikit lebih besar agar mudah disentuh */
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            width: 100%;
            transition: background-color 0.3s ease, transform 0.1s ease;
            margin-top: 10px;
            text-decoration: none; /* Untuk link <a> */
            display: inline-block; /* Untuk link <a> */
            text-align: center;
        }

        button:hover, .action-btn:hover {
            background-color: var(--primary);
            transform: translateY(-2px); /* Efek hover */
        }
        
        #group-selection-screen .group-button {
            margin-bottom: 10px;
        }

        /* Tombol Aksi di Halaman Hasil */
        .action-buttons {
            display: grid;
            grid-template-columns: 1fr; /* 1 kolom di HP */
            gap: 10px; /* Jarak antar tombol */
            margin-top: 20px;
        }

        /* Tombol Kirim Telegram (BARU) */
        .telegram-btn {
            background-color: var(--telegram-blue);
        }
        .telegram-btn:hover {
            background-color: #006da8;
        }
        
        /* Tombol Cetak (Disesuaikan) */
        .print-btn {
            background-color: var(--secondary);
        }

        /* Tombol Mulai Lagi (BARU) */
        .restart-btn {
            background-color: var(--restart-gray);
        }
        .restart-btn:hover {
            background-color: #5a6268;
        }


        /* Gaya untuk form identitas (Dari CSS Anda) */
        .identity-grid {
            display: grid;
            grid-template-columns: 1fr; /* --- PENYESUAIAN HP: 1 Kolom --- */
            gap: 15px;
            text-align: left;
        }
        .identity-grid label {
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 5px;
            display: block;
        }
        .full-width {
            grid-column: 1 / -1;
        }


        /* Kontainer Kuis dan Hasil (Dari CSS Anda) */
        #quiz-container, #result-area {
            text-align: left;
        }
        
        #question-text {
            background-color: var(--light-gray);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 5px solid var(--secondary);
        }
        #question-text p {
            margin-bottom: 10px; /* Mengurangi margin di dalam kotak */
        }

        .result-block {
            margin-bottom: 15px;
        }
        .result-block h3 {
            color: var(--secondary);
            margin-bottom: 8px;
        }
        .result-block p, .result-block .answer-display {
            margin-bottom: 5px;
            background-color: #f9f9f9;
            padding: 12px;
            border-radius: 5px;
            white-space: pre-wrap; /* Agar format teks jawaban tetap rapi */
            word-wrap: break-word; /* Agar teks tidak keluar kotak di HP */
        }
        
        /* Footer (Dari CSS Anda) */
        footer {
            background-color: var(--primary);
            color: var(--white);
            text-align: center;
            padding: 15px;
            font-size: 0.9em;
            width: 100%;
        }

        /* --- PENYESUAIAN HP (RESPONSIVE) --- */
        
        /* Untuk layar tablet (sedikit lebih lebar) */
        @media (min-width: 600px) {
            .identity-grid {
                grid-template-columns: 1fr 1fr; /* Kembali ke 2 kolom */
            }
            .action-buttons {
                grid-template-columns: 1fr 1fr; /* 2 kolom tombol */
            }
            /* Tombol telegram jadi full width jika sisa 1 */
            .action-buttons a:last-child:nth-child(odd) {
                grid-column: 1 / -1;
            }
        }

        /* Gaya Cetak/PDF (Dari CSS Anda) */
        @media print {
            body { background-color: var(--white); }
            header, footer, .action-buttons { /* Sembunyikan semua tombol aksi */
                display: none !important; 
            }
            main { padding: 0; }
            .card {
                box-shadow: none;
                border: none;
                width: 100%;
                max-width: 100%;
            }
            #group-selection-screen, #identity-screen, #quiz-container {
                display: none !important;
            }
            #result-area {
                display: block !important;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-content">
            <img id="logo" src="SEOLIS.png" alt="Logo" class="header-logo" onerror="this.style.display='none'">
            <div class="header-text">
                <h1>Asesmen Konsep Router</h1>
                <div id="progressInfo">Pilih kelompok untuk memulai</div>
            </div>
        </div>
    </header>

    <main>
        <div id="group-selection-screen" class="card">
            <h2>Selamat Datang!</h2>
            <p>Silakan pilih kelompokmu untuk menampilkan studi kasus yang sesuai.</p>
            <button class="group-button" onclick="selectGroup(1)">Kelompok 1 (Kasus Kurir)</button>
            <button class="group-button" onclick="selectGroup(2)">Kelompok 2 (Kasus Google Maps)</button>
        </div>

        <div id="identity-screen" class="card">
            <h2 id="identity-title">Identitas Kelompok</h2>
            <div class="identity-grid">
                <div>
                    <label for="student-name-1">Nama Siswa 1</label>
                    <input type="text" id="student-name-1" placeholder="Nama Siswa 1" required>
                </div>
                <div>
                    <label for="student-absent-1">Nomor Absen 1</label>
                    <input type="text" id="student-absent-1" placeholder="Absen Siswa 1" required>
                </div>
                <div>
                    <label for="student-name-2">Nama Siswa 2</label>
                    <input type="text" id="student-name-2" placeholder="Nama Siswa 2" required>
                </div>
                <div>
                    <label for="student-absent-2">Nomor Absen 2</label>
                    <input type="text" id="student-absent-2" placeholder="Absen Siswa 2" required>
                </div>
                <div class="full-width">
                    <label for="class-name">Kelas</label>
                    <input type="text" id="class-name" placeholder="Contoh: X-A" required>
                </div>
            </div>
            <button onclick="startQuiz()">Lanjutkan ke Soal</button>
        </div>

        <div id="quiz-container" class="card">
            <h2 id="quiz-title">Soal Uraian</h2>
            <div id="question-text">
                <p id="story"></p>
                <strong id="question"></strong>
            </div>
            <textarea id="answer-input" placeholder="Tulis jawabanmu di sini..."></textarea>
            <button onclick="submitQuiz()">Kumpulkan Jawaban</button>
        </div>

        <div id="result-area" class="card">
            <h2>Hasil Pengerjaan Asesmen</h2>
            <div id="result-details">
                </div>
            
            <div class="action-buttons">
                </div>
        </div>
    </main>
    
    <footer>
        &copy; 2025 Seoludut Education Learning System
    </footer>

    <script>
        // Variabel Global
        let selectedGroup = 0;
        let identityData = {};

        // === Data Soal (Diganti dengan data Kuis Router) ===
        const questions = {
            1: {
                title: "Kasus 1: Kurir Paket dan Dua Perumahan",
                story: "Bayangkan Anda seorang kurir paket yang bertugas mengantar barang. Ada dua perumahan yang terpisah: Perumahan A (alamatnya dimulai dengan Jalan Cendrawasih) dan Perumahan B (alamatnya dimulai dengan Jalan Rajawali). Anda mendapat paket yang tujuannya adalah Jalan Rajawali. Namun, Anda berada di dalam Perumahan A (Jalan Cendrawasih) dan tidak tahu cara masuk ke Perumahan B. Di persimpangan yang menghubungkan kedua perumahan, ada seorang satpam. Satpam ini tahu semua jalan di kedua perumahan dan tahu jalur tercepat untuk mengirim paket.",
                question: "Berdasarkan cerita ini, siapa yang berperan sebagai router? Mengapa?"
            },
            2: {
                title: "Kasus 2: Peta Jalan dan Google Maps",
                story: "Bayangkan Anda ingin pergi dari rumah ke perpustakaan. Ada beberapa jalan yang bisa Anda pilih. Anda tidak tahu jalan mana yang paling cepat, jadi Anda membuka aplikasi Google Maps (router). Google Maps akan menganalisis semua jalur yang mungkin, seperti jalan lurus, jalan tol, atau jalan pintas. Berdasarkan informasi lalu lintas dan kondisi jalan, Google Maps akan memilih satu jalur terbaik untuk Anda ikuti. Anda akan mengikuti petunjuk dari Google Maps hingga sampai di perpustakaan.",
                question: "Berdasarkan cerita ini, siapa yang berperan sebagai paket data? Mengapa?"
            }
        };

        // Referensi elemen DOM (Dari UI baru Anda)
        const groupSelectionScreen = document.getElementById('group-selection-screen');
        const identityScreen = document.getElementById('identity-screen');
        const quizContainer = document.getElementById('quiz-container');
        const resultArea = document.getElementById('result-area');
        const progressInfo = document.getElementById('progressInfo');

        /**
         * Fungsi untuk memilih kelompok (Sama seperti sebelumnya)
         */
        function selectGroup(groupNumber) {
            selectedGroup = groupNumber;
            groupSelectionScreen.style.display = 'none';
            identityScreen.style.display = 'block';
            document.getElementById('identity-title').textContent = `Identitas Kelompok ${groupNumber}`;
            progressInfo.textContent = 'Masukkan identitas kelompok';
        }

        /**
         * Fungsi untuk memulai kuis (Disesuaikan dengan form UI baru Anda)
         */
        function startQuiz() {
            // Mengambil data dari form baru
            identityData = {
                nama1: document.getElementById('student-name-1').value.trim(),
                absen1: document.getElementById('student-absent-1').value.trim(),
                nama2: document.getElementById('student-name-2').value.trim(),
                absen2: document.getElementById('student-absent-2').value.trim(),
                kelas: document.getElementById('class-name').value.trim(),
            };

            // Validasi sederhana: memastikan semua field diisi
            if (!identityData.nama1 || !identityData.absen1 || !identityData.nama2 || !identityData.absen2 || !identityData.kelas) {
                alert('Mohon lengkapi semua data identitas!');
                return;
            }

            // Menampilkan soal yang sesuai
            const soal = questions[selectedGroup];
            document.getElementById('quiz-title').textContent = soal.title;
            document.getElementById('story').textContent = soal.story;
            document.getElementById('question').textContent = soal.question;
            
            identityScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            progressInfo.textContent = `Kelompok ${selectedGroup} sedang mengerjakan...`;
        }

        /**
         * Fungsi untuk mengumpulkan jawaban (Gabungan UI baru + Fungsi Telegram)
         */
        function submitQuiz() {
            const answer = document.getElementById('answer-input').value.trim();

            if (answer === '') {
                alert('Mohon isi jawaban Anda sebelum mengumpulkan!');
                return;
            }

            // Sembunyikan kontainer kuis dan tampilkan area hasil
            quizContainer.style.display = 'none';
            resultArea.style.display = 'block';
            progressInfo.textContent = 'Hasil Asesmen';

            // --- 1. Persiapan Data Hasil & Telegram ---
            const soal = questions[selectedGroup];
            const telegramUsername = "teodulusva"; // Username Anda
            
            // Format pesan - DISESUAIKAN DENGAN FORM BARU
            let pesanTelegram = `
--- ðŸ”” HASIL ASESMEN ROUTER ---
Kelompok: ${selectedGroup}
Kelas: ${identityData.kelas}

Siswa 1: ${identityData.nama1} (Absen: ${identityData.absen1})
Siswa 2: ${identityData.nama2} (Absen: ${identityData.absen2})

Soal (Kasus ${selectedGroup}):
${soal.question}

--- JAWABAN KELOMPOK ---
${answer}
`;
            // Buat URL Telegram
            const telegramURL = `https://t.me/${telegramUsername}?text=${encodeURIComponent(pesanTelegram)}`;

            // --- 2. Tampilkan Hasil di Halaman (Menggunakan format UI baru) ---
            const resultDetails = document.getElementById('result-details');
            resultDetails.innerHTML = `
                <div class="result-block">
                    <h3>Identitas Kelompok ${selectedGroup}</h3>
                    <p><strong>Kelas:</strong> ${identityData.kelas}</p>
                    <p><strong>Siswa 1:</strong> ${identityData.nama1} (Absen: ${identityData.absen1})</p>
                    <p><strong>Siswa 2:</strong> ${identityData.nama2} (Absen: ${identityData.absen2})</p>
                </div>
                <hr style="margin: 20px 0;">
                <div class="result-block">
                    <h3>Soal</h3>
                    <p>${soal.story}</p>
                    <p><strong>Pertanyaan: ${soal.question}</strong></p>
                </div>
                <div class="result-block">
                    <h3>Jawaban Kelompok</h3>
                    <div class="answer-display">${answer}</div>
                </div>
                <hr style="margin: 20px 0;">
                <p style="text-align:center; font-style: italic;">Ruang untuk Penilaian Guru:</p>
                <br><br><br>
            `;

            // --- 3. Tampilkan Tombol-Tombol Aksi ---
            const actionButtonsContainer = document.querySelector('#result-area .action-buttons');
            actionButtonsContainer.innerHTML = `
                <a href="${telegramURL}" target="_blank" class="action-btn telegram-btn">Kirim via Telegram</a>
                <button onclick="window.print()" class="action-btn print-btn">Cetak Hasil (PDF)</button>
                <button onclick="restartQuiz()" class="action-btn restart-btn">Mulai Lagi</button>
            `;
        }

        /**
         * Fungsi BARU untuk memulai ulang kuis
         */
        function restartQuiz() {
            // Reset variabel
            selectedGroup = 0;
            identityData = {};

            // Kosongkan input
            document.getElementById('student-name-1').value = '';
            document.getElementById('student-absent-1').value = '';
            document.getElementById('student-name-2').value = '';
            document.getElementById('student-absent-2').value = '';
            document.getElementById('class-name').value = '';
            document.getElementById('answer-input').value = '';

            // Tampilkan layar awal
            resultArea.style.display = 'none';
            groupSelectionScreen.style.display = 'block';
            
            // Reset progress bar
            progressInfo.textContent = 'Pilih kelompok untuk memulai';
        }
    </script>
</body>
</html>
